FORMAL_INFORMAL = col_character()
)
m <- read_csv("datos/PERSONAS.csv", col_types = col)
y <- problems(m)
View(y)
View(m)
m %>% rename(DOMINIO_DE_ESTUDIO=DOMINIO,
AREA_GEOGRAFICA=AREA,
UNIDAD_PRIMARIA_DE_MUESTREO=UPM,
FACTOR_DE_EXPANSIÓN=FACTOR,
NÚMERO_CORRELATIVO_DE_HOGAR=NUM_HOGAR,
CÓDIGO_DE_LA_PERSONA_EN_LA_BOLETA=ID,
SEXO=PPA02,
EDAD_DE_LA_PERSONA_(AÑOS_CUMPLIDOS)=PPA03,
m %>% rename(DOMINIO_DE_ESTUDIO=DOMINIO,
AREA_GEOGRAFICA=AREA,
UNIDAD_PRIMARIA_DE_MUESTREO=UPM,
FACTOR_DE_EXPANSION=FACTOR,
NUMERO_CORRELATIVO_DE_HOGAR=NUM_HOGAR,
CODIGO_DE_LA_PERSONA_EN_LA_BOLETA=ID,
SEXO=PPA02,
EDAD_DE_LA_PERSONA_(ANIOS_CUMPLIDOS)=PPA03,
m %>% rename(DOMINIO_DE_ESTUDIO=DOMINIO,
AREA_GEOGRAFICA=AREA,
UNIDAD_PRIMARIA_DE_MUESTREO=UPM,
FACTOR_DE_EXPANSION=FACTOR,
NUMERO_CORRELATIVO_DE_HOGAR=NUM_HOGAR,
CODIGO_DE_LA_PERSONA_EN_LA_BOLETA=ID,
SEXO=PPA02,
EDAD_DE_LA_PERSONA_ANIOS_CUMPLIDOS=PPA03,
DIA_DE_NACIMIENTO=PPA04A,
MES_DE_NACIMIENTO=PPA04B,
ANIO_DE_NACIMIENTO=PPA04C,
PARENTESCO_CON_EL_JEFE_DEL_HOGAR=PPA05,
PUEBLOS=PPA06,
COMUNIDAD_LINGÜISTICA=PPA07,
IDIOMA_MATERNO=PPA08,
ESTADO_CIVIL_O_CONYUGAL=PPA09,
VIVE_LA_MADRE_EN_ESTE_HOGAR=PPA10A,
CODIGO_DE_LA_MADRE=PPA10B,
CUANTOS_HIJOS_E_HIJAS_A_TENIDO_EN_TOTAL=PPA11,
RESULTADO_DE_LA_ENTREVISTA=PPA12,
SABE_LEER_Y_ESCRIBIR=P03A01,
INSCRIPCION=P03A02,
EL_PLANTEL_EDUCATIVO_DONDE_SE_INSCRIBIO_ES=P03A03,
NIVEL_EN_EL_QUE_SE_INSCRIBIO=P03A04A,
GRADO_QUE_SE_INSCRIBIO=P03A04B,
NIVEL_DE_ESTUDIOS_APROBADO=P03A05A,
GRADO_QUE_APROBO=P03A05B,
CODIGO_DEL_TITULO=P03A06,
LUGAR_DONDE_TRABAJO_POR_PRIMERA_VEZ=P03B01,
AFECTADO_EN_LOS_DERECHOS_LABORALES=P03B02,
EN_CUAL_DERECHO_SE_HA_SENTIDO_AFECTADO=P03B03,
FUENTE_A_LA_QUE_A_ACUDIDO_PRINCIPALMENTE=P03B04,
DIFICULTAD_PARA_ENCONTRAR_TRABAJO=P03B05,
ASISTENCIA=P03C01,
INSTITUCION_QUE_LO_IMPARTE=P03C02,
PRINCIPAL_BENEFICIO=P03C03,
COSTOS=P03C04,
DESEO_DE_CAPACITACION=P03C05,
AREA_DE_CAPACITACION=P03C06,
MEDIO_DE_INFORMACION=P03D01,
TIENE_TELEFONIA_CELULAR=P03D02A,
CANTIDAD_DE_CELULARES_DISPONIBLES=P03D02B,
USO_DE_COMPUTADORA=P03D03,
USO_DE_INTERNET=P03D04,
MEDIO_PARA_CONECTARSE_A_INTERNET=P03D05,
DONDE_USA_INTERNET=P03D06,
FACEBOOK=P03D07A,
TWITTER=P03D07B,
INSTAGRAM=P03D07C,
WHATSAPP=P03D07D,
GOOGLEPLUS=P03D07E,
PARA_QUE_USA_LA_RED=P03D08,
CODIGO_DE_PERSONA=P04A01,
ACTIVIDAD_PRINCIPAL_DE_LA_SEMANA_PASADA=P04A02,
ADEMAS_DE_LA_ACTIVIDAD_PRINCIPAL=P04A03,
LA_SEMANA_PASADA_VENDIO=P04A04,
LA_SEMANA_PASADA_AYUDO_AL_TRABAJO_SIN_RECIBIR_INGRESO_O_PAGA=P04A05,
AUSENTES_DEL_TRABAJO=P04A06,
RAZON_DE_NO_TRABAJO=P04A07,
EN_AUSENCIA_RECIBIO_SUELDO_O_GANANCIA=P04A08,
SEMANA_SIN_TRABAJO=P04A09,
BUSCO_TRABAJO=P04B01,
TRAMITES_EN_LAS_ULTIMAS_CUATRO_SEMANAS=P04B02,
QUE_HIZO_PARA_BUSCAR_TRABAJO=P04B03,
RAZON_PRINCIPAL=P04B04,
DISPONIBILIDAD=P04B05,
TRABAJOS=P04C01,
OCUPACION_A_DOS_DIGITOS=P04C02B_2D,
OCUPACION_A_UN_DIGITO=P04C02B_1D,
ACTIVIDAD_EDONOMICA_A_DOS_DIGITOS=P04C04B_2D,
ACTIVIDAD_ECONOMICA_A_UN_DIGITO=P04C04B_1D,
TAMANIO_DE_LA_EMPRESA=P04C05,
CATEGORIA_OCUPACIONAL=P04C06,
TIENE_CONTRATO=P04C07,
EL_CONTRATO_ES=P04C08A,
MESES_DE_CONTRATO=P04C08B,
DIAS_DE_CONTRATO=P04C08C,
EXISTENCIA_DE_SINDICATO_O_COMITE_DE_TRABAJADORES=P04C09A,
AFILIADO=P04C09B,
SUELDO_O_SALARIO=P04C10,
HORAS_EXTRAS=P04C11A,
CUANTAS_HORAS=P04C11B,
CUANTO_DINERO_RECIBIO=P04C11C,
COMISIONES=P04C12A,
CUANTO_DE_DINERO_RECIBIO=P04C12B,
TRABAJO_EN_VACACIONES=P04C13A,
CUANTO_DINERO_RECIBIO=P04C13B,
BONO_14=P04C14A,
CUANTO_DINERO_RECIBIO=P04C14B,
AGUINALDO=P04C15A,
CUANTO_DINERO_RECIBIO=P04C15B,
BONO_VACACIONAL=P04C16A,
CUANTO_DINERO_RECIBIO=P04C16B,
QUINCEAVO_SUELDO=P04C17A,
CUANTO_DINERO_RECIBIO=P04C17B,
ALIMENTACION=P04C18A,
CUANTO_DINERO_RECIBIO=P04C18B,
VIVIENDA=P04C19A,
CUANTO_DINERO_RECIBIO=P04C19B,
TRANSPORTE=P04C20A,
CUANTO_DINERO_RECIBIO=P04C20B,
BONO_DE_PRODUCTIVIDAD=P04C21A,
CUANTO_DINERO_RECIBIO=P04C21B,
GANANCIA_NO_AGRICOLA=P04C22,
GANANCIA_AGRICOLA=P04C23,
EMPLEA_PERSONAS=P04C24A,
CUANTAS_PERSONAS=P04C24B,
VINCULACION_AL_IGSS=P04C25A,
CUANTO_PAGA_AL_MES=P04C25B,
SEGURO_PRIVADO=P04C26A,
QUIEN_LO_PAGA=P04C26B,
LUGAR_DE_TRABAJO=P04C27,
HORAS_LUNES=P04C28A,
HORAS_MARTES=P04C28B,
HORAS_MIERCOLES=P04C28C,
HORAS_JUEVES=P04C28D,
HORAS_VIERNES=P04C28E,
HORAS_SABADO=P04C28F,
HORAS_DOMINGO=P04C28G,
MOTIVO_PRINCIPAL=P04C29,
TIEMPO_DE_TRABAJO=P04C30,
ANIOS=P04C31A,
MESES=P04C31B,
JORNADA=P04C32,
MEDIO_TRANSPORTE=P04C33,
TOMAR_VACACIONES=P04C34A,
PEDIR_PERMISO=P04C34B,
AUSENTARSE=P04C34C,
MATERNIDAD=P04C34D,
FALLECIMIENTO=P04C34E,
TEMPERATURA=P04C35A,
HUMEDAD=P04C35B,
RUIDO=P04C35C,
VIBRACIONES=P04C35D,
ILUMINACION_DEFICIENTE=P04C35E,
SUSTANCIAS_TOXICAS=P04C35F,
HUMOS_Y_POLVOS=P04C35G,
EXAMENES=P04C36,
REALIZO_EXAMENES=P04C37,
EQUIPO_DE_PROTECCION=P04C38,
DISPONE_DE_ESOS_EQUIPOS=P04C39,
EMPLEO_SECUNDARIO=P04D01,
OCUPACION_A_DOS_DIGITOS=P04D02B_2D,
OCUPACION_A_UN_DIGITO=P04D02B_1D,
ACTIVIDAD_ECONOMICA_A_DOS_DIGITOS=P04D04B_2D,
ACTIVIDAD_ECONOMICA_A_UN_DIGITO=P04D04B_1D,
CATEGORIA_OCUPACIONAL=P04D05,
SUELDO_O_SALARIOS=P04D06,
VIVIENDA_ALIMENTACION=P04D07A,
CUANTO_LE_COSTARIA=P04D07B,
QUINCEAVO_SUELDO=P04D08A,
CUANTO_LE_COSTARIA=P04D08B,
HORAS_EXTRAS=P04D09A,
CUANTO_LE_COSTARIA=P04D09B,
BONO_14=P04D10A,
CUANTO_LE_COSTARIA=P04D10B,
AGUINALDO=P04D11A,
CUANTO_LE_COSTARIA=P04D11B,
GANANCIA_NO_AGRIOCOLA=P04D12,
GANANCIA_AGRICOLA=P04D13,
EMPLEA_PERSONAS=P04D14A,
CUANTAS_PERSONAS=P04D14B,
PERSONAS_EN_LA_EMPRESA=P04D15,
HORAS_TRABAJADAS=P04D16,
ANIOS_EN_LA_EMPRESA=P04D17A,
MESES=P04D17B,
DESEO_DE_TRABAJAR=P04E01,
EN_SU_TRABAJO=P04E02A,
EN_UN_ADICIONAL=P04E02B,
CAMBIANDO=P04E02C,
HORAS=P04E03,
BUSQUEDA=P04E04,
DISPONIBILIDAD=P04E05,
CAMBIO_DE_TRABAJO=P04E06,
ESPECIFIQUE=P04E07A,
NIVEL=P04E08A,
GRADO=P04E08B,
TRAMITES=P04E09,
NUEVO_TRABAJO=P04E10,
SEMANAS=P04F01,
OCUPACION_A_DOS_DIGITOS=P04F02B_2D,
OCUPACION_A_UN_DIGITO=P04F02B_1D,
TIEMPO=P04F03,
BUSCA_TRABAJO=P04F04,
FOTOCOPIAS=P04F05A,
BOLETO_DE_ORNATO=P04F05B,
PENALES=P04F05C,
POLICIACOS=P04F05D,
FOTOS=P04F05E,
TRANSPORTE=P04F05F,
OTROS=P04F05G,
BUSQUEDA=P04F06,
OCUPACION_A_DOS_DIGITOS=P04F07B_2D,
OCUPACION_A_UN_DIGITO=P04F07B_1D,
ULTIMO_TRABAJO=P04F08,
ACTIVIDAD_ECONOMICA_A_DOS_DIGITOS=P04F09B_2D,
ACTIVIDAD_ECONOMICA_A_UN_DIGITO=P04F09B_1D,
RETIRO=P04F10,
PERSONAS=P04F11,
CATEGORIA_OCUPACIONAL=P04F12,
SUELDO_O_GANANCIA=P04F13,
HA_TRABAJADO=P04G01,
DISPONIBILIDAD=P04G02,
ULTIMA_VEZ=P04G03,
TRAMITE_DE_BUSQUEDA_DE_TRABAJO=P04G04,
JUBILACION=P04G05A,
RENTA=P04G05B,
AHORROS=P04G05C,
ORFANDAD=P04G05D,
BECA=P04G05E,
FAMILIA=P04G05F,
CARIDAD=P04G05G,
PRESTADO=P04G05H,
OTRA_FORMA=P04G05I,
ALQUILERES=P05A01A,
CUANTO_RECIBIO=P05A01B,
INTERESES=P05A02A,
CUANTO_RECIBIO=P05A02B,
DONACIONES=P05A03A,
CUANTO_RECIBIO=P05A03B,
PENSION_ALIMENTICIA=P05A04A,
CUANTO_RECIBIO=P05A04B,
JUBILACIONES_O_PENSIONES=P05A05A,
CUANTO_RECIBIO=P05A05B,
TRANSPORTE=P05A06A,
CUANTO_RECIBIO=P05A06B,
DESEMPLEO=P05A07A,
CUANTO_RECIBIO=P05A07B,
RENTA_DE_LA_PROPIEDAD=P05A08A,
CUANTO_RECIBIO=P05A08B,
INDEMNIZACIONES=P05A09A,
CUANTO_RECIBIO=P05A09B,
PREMIOS=P05A10A,
CUANTO_RECIBIO=P05A10B,
HERENCIAS=P05A11A,
CUANTO_RECIBIO=P05A11B,
VENTA_ACTIVOS=P05A12A,
CUANTO_RECIBIO=P05A12B,
VENTA_ACCIONES=P05A13A,
CUANTO_RECIBIO=P05A13B,
VENTA_COSECHAS=P05A14A,
CUANTO_RECIBIO=P05A14B,
OTROS_TRABAJOS=P05A15A,
CUANTO_RECIBIO=P05A15B,
OTROS_INGRESOS=P05A16A,
CUANTO_RECIBIO=P05A16B,
REMESAS=P05A17A,
CUANTO_RECIBIO=P05A17B,
MES=P05A18A,
CUANTO_RECIBIO=P05A18B,
MES=P05A19A,
CUANTO_RECIBIO=P05A19B,
MES=P05A20A,
CUANTO_RECIBIO=P05A20B,
ALIMENTOS=P05A21A,
CANTIDAD_EN_QUETZALES=P05A21B,
PERTENENCIA_ETNICA=etnicidad,
POBLACION_EN_EDAD_DE_TRABAJAR=PET,
POBLACION_ECONOMICA_ACTIVA=PEA,
PEA_OCUPADA=OCUPADOS,
DESOCUPADOS_ABIERTOS=DESOCUPADOS,
POBLACION_SUBEMPLEADA_VISIBLE_O_POR_INSUFICIENCIA_DE_HORAS=SUBVISIBLES,
POBLACION_NO_ECONOMICAMENTE_ACTIVA=INACTIVOS,
OCUPADOS_POR_SECTOR_FORMAL_E_INFORMAL=FORMAL_INFORMAL
)
install.packages()
install.packages("WDI")
knitr::opts_chunk$set(echo = TRUE)
library(WDI)
library(dplyr)
wbData <- WDI(
indicator= c("SP.POP.TOTL", "SP.DYN.LEOO.IN", "NY.GDP.PCAP.PP.CD", "SI.POV.GINI"), contry = "all", extra = TRUE, start = 1960, end=2019
)
wbData <- WDI(
indicator=
c("SP.POP.TOTL", "SP.DYN.LEOO.IN", "NY.GDP.PCAP.PP.CD", "SI.POV.GINI"), country = "all", extra = TRUE, start = 1960, end=2019
)
?WDI
wbData <- WDI(
indicator=
c("SP.POP.TOTL", "NY.GDP.PCAP.PP.CD", "SI.POV.GINI"), country = "all", extra = TRUE, start = 1960, end=2019
)
glimpse(wbData)
wbData <- arrange(country, year)
z <- wbData %>%  arrange(country, year)
z <- wbData %>%  arrange(country, year)
z
saveRDS(wbData, "datos/wbData2019.rds")
knitr::opts_chunk$set(echo = TRUE)
wbData1 <- readRDS("datos/wbData2019.rds")
wbData1
wbData <- WDI(
indicator=
c("SP.POP.TOTL","SP.DYN.LE00.IN", "NY.GDP.PCAP.PP.CD", "SI.POV.GINI"), country = "all", extra = TRUE, start = 1960, end=2019
)
glimpse(wbData)
saveRDS(wbData, "datos/wbData2019.rds")
library(dplyr)
wbData1 <- readRDS("datos/wbData2019.rds")
wbData1
wbData2 <- wbData1 %>% rename(population = SP.POP.TOTL,
lifeExpectancy = SP.DYN.LE00.IN,
gdppc = NY.GDP.PCAP.PP.CD,
gini = SI.POV.GINI)
wbData2
wbData2 <- wbData1 %>% mutate(region = recode(region,
"East Asia & Pacific" = "Este Asiatico y Pacifico",
"Europe & Central Asia" = "Europa y Asia Central",
"Latin American & Caribbean" = "America Latina y el Caribe",
"Middle East & North Africa" = "Medio Oriente y Norte de Africa",
"North America" = "Norteamerica",
"South Asia" = "Asia del Sur",
"Sub-Sahara Africa" =  "Africa Subsahariana"))
wbData2
View(wbData2)
table(wbData2$region)
regiones <-  wbData2 %>% distinct(region)
regiones
regiones <-  wbData2 %>% distinct(region, n())
regiones
reg <- wbData2 %>% unique(region)
regiones <-  wbData2 %>% distinct(region, count())
%>% mutate(cuenta = count())
%>% mutate(cuenta = count())
regiones <-  wbData2 %>% distinct(region) %>% mutate(cuenta = count())
?"mutate"
wbData3 = wbData2 %>% filter(region != "Aggregates")
wbData3
regiones <-  wbData2 %>% distinct(region) %>% count(region)
regiones
regiones <-  wbData2 %>% group_by(region) %>% count(region)
regiones
z  <- wbData2 %>% filter(is.na(region))
z
wbData3 %>% distinct(country) %>% count()
wbData3 %>% group_by(region) %>% distinct(country) %>% count()
regiones <-  wbData2 %>% group_by(region) %>% count()
regiones
regiones <-  wbData2 %>% distinct(region) %>% count(region)
regiones
regiones <-  wbData2 %>% distinct(region) %>% count()
regiones
install.packages("janitor")
install.packages("kableExtra")
library(janitor)
library(kableExtra)
wbData3 %>% group_by(region) %>%
distinct(country) %>%
count() %>%
kbl(booktabs = T,
col.names = c("region", "Numero paises")) %>%
kable_styling()
wbData3 %>% group_by(region) %>%
distinct(country) %>%
count() %>%
kbl(booktabs = T,
col.names = c("region", "Numero paises"),
linesep = '') %>%
kable_styling()
?"ungroup"
knitr::opts_chunk$set(echo = TRUE, Warning = FALSE, message = FALSE)
wbData3 %>%
filter(year == 2019) %>%
select(country, population) %>%
arrange(desc(population))
View(wbData3)
wbData2 <- wbData1 %>% rename(population = SP.POP.TOTL,
lifeExpectancy = SP.DYN.LE00.IN,
gdppc = NY.GDP.PCAP.PP.CD,
gini = SI.POV.GINI)
wbData3 %>%
filter(year == 2019) %>%
select(country, population) %>%
arrange(desc(population))
wbData3 <- wbData2 %>%
filter(region != "Aggregates")
wbData3 %>%
filter(year == 2019) %>%
select(country, population) %>%
arrange(desc(population)) %>%
slice(n = 5)
wbData3 %>%
filter(year == 2019)
wbData3 %>%
filter(year == 2019) %>%
select(country, population) %>%
wbData3 %>%
filter(year == 2019) %>%
select(country, population)
wbData3 %>%
filter(year == 2019) %>%
select(country, population)
wbData3 %>%
filter(year == 2019) %>%
select(country, population) %>%
arrange(desc(population))
wbData3 %>%
filter(year == 2019) %>%
select(country, population) %>%
arrange(desc(population)) %>%
slice(n = 5)
wbData3 %>%
filter(year == 2019) %>%
select(country, population) %>%
arrange(desc(population)) %>%
slice_head(n = 5)
wbData3 %>%
filter(year == 2019) %>%
select(country, population) %>%
arrange(desc(population)) %>%
slice_head %>%
kbl(booktabs = T,
col.names = c("Paiz", "Population", "%"),
linesep = '',
digits = 1) %>%
kable_styling(latex_options = c("striped"))
wbData3 %>%
filter(year == 2019) %>%
select(country, population) %>%
arrange(desc(population)) %>%
slice_head(n = 5) %>%
kbl(booktabs = T,
col.names = c("pais", "population"),
linesep = '',
digits = 1) %>%
kable_styling(latex_options = c("striped"))
?"lag"
wbData3 %>%
filter(year >= 2018, year <= 2019) %>%
mutate(crecimiento = (population - lag(population))/(lag(population)))
wbData3 %>%
filter(year >= 2018, year <= 2019) %>%
mutate(crecimiento = (population - lag(population))/(lag(population))) %>%
select(country,crecimiento)
wbData3 %>%
filter(year >= 2018, year <= 2019) %>%
mutate(crecimiento = (population - lag(population))/(lag(population))) %>%
select(country,crecimiento)
wbData3 %>%
filter(year >= 2018, year <= 2019) %>%
mutate(crecimiento = (population - lag(population))/(lag(population))) %>%
select(country,crecimiento) %>%
arrange(desc(population)) %>%
slice_head(n = 5)
wbData3 %>%
filter(year >= 2018, year <= 2019) %>%
mutate(crecimiento = (population - lag(population))/(lag(population))) %>%
select(country,crecimiento) %>%
arrange(desc(crecimiento)) %>%
slice_head(n = 5)
wbData3 %>%
filter(year >= 2018, year <= 2019) %>%
mutate(crecimiento = (population - lag(population))/(lag(population))) %>%
select(country,crecimiento) %>%
arrange(desc(crecimiento)) %>%
slice_head(n = 10)
wbData3 %>%
filter(year >= 2018, year <= 2019) %>%
mutate(crecimiento = rond((population - lag(population))/(lag(population)))) %>%
select(country,crecimiento) %>%
arrange(desc(crecimiento)) %>%
slice_head(n = 10)
"round"
?"round"
wbData3 %>%
filter(year >= 2018, year <= 2019) %>%
mutate(crecimiento = round((population - lag(population))/(lag(population)))) %>%
select(country,crecimiento) %>%
arrange(desc(crecimiento)) %>%
slice_head(n = 10)
wbData3 %>%
filter(year == 2019) %>%
select(country,gdppc) %>%
arrange(gdppc) %>%
slice_head(n = 10)
wbData3 %>%
filter(year == 2019) %>%
select(country,round(gdppc)) %>%
arrange(gdppc) %>%
slice_head(n = 10)
wbData3 %>%
filter(year == 2019) %>%
select(country,round(gdppc)) %>%
arrange(gdppc) %>%
slice_head(n = 10)
wbData3 %>%
filter(year == 2019) %>%
select(country,gdppc) %>%
arrange(gdppc) %>%
slice_head(n = 10)
